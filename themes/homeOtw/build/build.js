function scrollNav(a,b,c,d){function e(){i.addClass("nav-fixed")}function f(){i.removeClass("nav-fixed")}function g(){$("body.accessibility-mode").length||(i.addClass("nav-collapsed"),j.addClass("overflow"))}function h(){i.removeClass("nav-collapsed"),setTimeout(function(){j.removeClass("overflow")},d)}var i=$("body"),j=$(a),k=i.hasClass("nav-fixed"),l=i.hasClass("nav-collapsed");$(document).scrollTop()>b?k||e():k&&f(),$(document).scrollTop()>c?l||(g(),j.off().hover(function(){h()},function(){g()})):(j.off(),l&&h())}function navConfig(a,b,c,d){scrollNav(a,b,c,d),$(document).off("scroll.navs").on("scroll.navs",function(){scrollNav(a,b,c,d)})}!function(a){var b,c,d,e;a.fn.metrojs={capabilities:null,checkCapabilities:function(b,c){return(null==a.fn.metrojs.capabilities||"undefined"!=typeof c&&1==c)&&(a.fn.metrojs.capabilities=new a.fn.metrojs.MetroModernizr(b)),a.fn.metrojs.capabilities}},b=a.fn.metrojs,c=window.console,"object"!=typeof c&&(c={},c.log=function(){},c.error=function(){}),d="function"==typeof a.error?a.error:c.error,e=99e3,a.fn.liveTile=function(b){var c,d;if(f[b]){for(c=[],d=1;d<=arguments.length;d++)c[d-1]=arguments[d];return f[b].apply(this,c)}return"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.liveTile"),null):f.init.apply(this,arguments)},a.fn.liveTile.contentModules={modules:[],addContentModule:function(a,b){this.modules instanceof Array||(this.modules=[]),this.modules.push(b)},hasContentModule:function(a){if("undefined"==typeof a||!(this.modules instanceof Array))return-1;for(var b=0;b<this.modules.length;b++)if("undefined"!=typeof this.modules[b].moduleName&&this.modules[b].moduleName==a)return b;return-1}},a.fn.liveTile.defaults={mode:"slide",speed:500,initDelay:-1,delay:5e3,stops:"100%",stack:!1,direction:"vertical",animationDirection:"forward",tileSelector:">div,>li,>p,>img,>a",tileFaceSelector:">div,>li,>p,>img,>a",ignoreDataAttributes:!1,click:null,link:"",newWindow:!1,bounce:!1,bounceDirections:"all",bounceFollowsMove:!0,pauseOnHover:!1,pauseOnHoverEvent:"both",playOnHover:!1,playOnHoverEvent:"both",onHoverDelay:0,onHoverOutDelay:200,repeatCount:-1,appendBack:!0,alwaysTrigger:!1,flipListOnHover:!1,flipListOnHoverEvent:"mouseout",noHAflipOpacity:"1",haTransFunc:"ease",noHaTransFunc:"linear",currentIndex:0,startNow:!0,useModernizr:"undefined"!=typeof Modernizr,useHardwareAccel:!0,useTranslate:!0,faces:{$front:null,$back:null},animationStarting:function(){},animationComplete:function(){},triggerDelay:function(){return 3e3*Math.random()},swap:"",swapFront:"-",swapBack:"-",contentModules:[],rebindMessage:"tile data is missing. Are you missing a call to rebind or destroy? You may also be able to avoid this error by calling stop or pause"};var f={init:function(c){var d=a.extend({},a.fn.liveTile.defaults,c);return b.checkCapabilities(d),h.getBrowserPrefix(),-1==a.fn.liveTile.contentModules.hasContentModule("image")&&a.fn.liveTile.contentModules.addContentModule("image",i.imageSwap),-1==a.fn.liveTile.contentModules.hasContentModule("html")&&a.fn.liveTile.contentModules.addContentModule("html",i.htmlSwap),a(this).each(function(b,c){var e,f=a(c),h=g.initTileData(f,d);h.faces=g.prepTile(f,h),h.fade=function(a){g.fade(f,a)},h.slide=function(a){g.slide(f,a)},h.carousel=function(a){g.carousel(f,a)},h.flip=function(a){g.flip(f,a)},h.flipList=function(a){g.flipList(f,a)},e={fade:h.fade,slide:h.slide,carousel:h.carousel,flip:h.flip,"flip-list":h.flipList},h.doAction=function(a){var b=e[h.mode];"function"==typeof b&&(b(a),h.hasRun=!0),a==h.timer.repeatCount&&(h.runEvents=!1)},h.timer=new a.fn.metrojs.TileTimer(h.delay,h.doAction,h.repeatCount),f.data("LiveTile",h),("flip-list"!==h.mode||0==h.flipListOnHover)&&(h.pauseOnHover?g.bindPauseOnHover(f):h.playOnHover&&g.bindPlayOnHover(f,h)),(h.link.length>0||"function"==typeof h.click)&&f.css({cursor:"pointer"}).bind("click.liveTile",function(a){var b=!0;"function"==typeof h.click&&(b=h.click(f,h)||!1),b&&h.link.length>0&&(a.preventDefault(),h.newWindow?window.open(h.link):window.location=h.link)}),g.bindBounce(f,h),h.startNow&&"none"!=h.mode&&(h.runEvents=!0,h.timer.start(h.initDelay))})},"goto":function(b){var c,d,e=typeof b;if("undefined"===e&&(c={index:-99,delay:0,autoAniDirection:!1}),"number"!==e&&isNaN(b))if("string"===e)if("next"==b)c={index:-99,delay:0};else{if(0!==b.indexOf("prev"))return a.error(b+' is not a recognized action for .liveTile("goto")'),a(this);c={index:-100,delay:0}}else"object"===e&&("undefined"==typeof b.delay&&(b.delay=0),d=typeof b.index,"undefined"===d?b.index=0:"string"===d&&("next"===b.index?b.index=-99:0===b.index.indexOf("prev")&&(b.index=-100)),c=b);else c={index:parseInt(b,10),delay:0};return a(this).each(function(b,d){var e,f,g=a(d),h=g.data("LiveTile"),i=g.data("metrojs.tile"),j=c.index;if(i.animating===!0)return a(this);if("carousel"===h.mode){if(e=h.faces.$listTiles.filter(".active"),f=h.faces.$listTiles.index(e),-100===j?(("undefined"==typeof c.autoAniDirection||1==c.autoAniDirection)&&(h.tempValues.animationDirection="undefined"==typeof c.animationDirection?"backward":c.animationDirection),j=0===f?h.faces.$listTiles.length-1:f-1):-99===j&&(("undefined"==typeof c.autoAniDirection||1==c.autoAniDirection)&&(h.tempValues.animationDirection="undefined"==typeof c.animationDirection?"forward":c.animationDirection),j=f+1),f==j)return;"undefined"!=typeof c.direction&&(h.tempValues.direction=c.direction),"undefined"!=typeof c.animationDirection&&(h.tempValues.animationDirection=c.animationDirection),h.currentIndex=0==j?h.faces.$listTiles.length:j-1}else h.currentIndex=j;h.runEvents=!0,h.timer.start(c.delay>=0?c.delay:h.delay)})},play:function(b){var c,d=typeof b;return"undefined"===d?c={delay:-1}:"number"===d?c={delay:b}:"object"===d&&("undefined"==typeof b.delay&&(b.delay=-1),c=b),a(this).each(function(b,d){var e=a(d),f=e.data("LiveTile");f.runEvents=!0,c.delay<0&&!f.hasRun&&(c.delay=f.initDelay),f.timer.start(c.delay>=0?c.delay:f.delay)})},animate:function(){return a(this).each(function(b,c){var d=a(c),e=d.data("LiveTile");e.doAction()})},stop:function(){return a(this).each(function(b,c){var d=a(c),e=d.data("LiveTile");e.hasRun=!1,e.runEvents=!1,e.timer.stop(),window.clearTimeout(e.eventTimeout),window.clearTimeout(e.flCompleteTimeout),window.clearTimeout(e.completeTimeout),"flip-list"===e.mode&&e.faces.$listTiles.each(function(b,c){var d=a(c).data("metrojs.tile");window.clearTimeout(d.eventTimeout),window.clearTimeout(d.flCompleteTimeout),window.clearTimeout(d.completeTimeout)})})},pause:function(){return a(this).each(function(b,c){var d=a(c),e=d.data("LiveTile");e.timer.pause(),e.runEvents=!1,window.clearTimeout(e.eventTimeout),window.clearTimeout(e.flCompleteTimeout),window.clearTimeout(e.completeTimeout),"flip-list"===e.mode&&e.faces.$listTiles.each(function(b,c){var d=a(c).data("metrojs.tile");window.clearTimeout(d.eventTimeout),window.clearTimeout(d.flCompleteTimeout),window.clearTimeout(d.completeTimeout)})})},restart:function(b){var c,d=typeof b;return"undefined"===d?c={delay:-1}:"number"===d?c={delay:b}:"object"===d&&("undefined"==typeof b.delay&&(b.delay=-1),c=b),a(this).each(function(b,d){var e=a(d),f=e.data("LiveTile");c.delay<0&&!f.hasRun&&(c.delay=f.initDelay),f.hasRun=!1,f.runEvents=!0,f.timer.restart(c.delay>=0?c.delay:f.delay)})},rebind:function(b){return a(this).each(function(a,c){"undefined"!=typeof b?("undefined"!=typeof b.timer&&null!=b.timer&&b.timer.stop(),b.hasRun=!1,f.init.apply(c,[b])):f.init.apply(c,[{}])})},destroy:function(b){var c,d=typeof b;return"undefined"===d?c={removeCss:!1}:"boolean"===d?c={removeCss:b}:"object"===d&&("undefined"==typeof b.removeCss&&(b.removeCss=!1),c=b),a(this).each(function(b,d){var e,f=a(d),i=f.data("LiveTile");"undefined"!=typeof i&&(f.unbind(".liveTile"),e=h.appendStyleProperties({margin:"",cursor:""},["transform","transition"],["",""]),i.timer.stop(),window.clearTimeout(i.eventTimeout),window.clearTimeout(i.flCompleteTimeout),window.clearTimeout(i.completeTimeout),null!=i.faces.$listTiles&&i.faces.$listTiles.each(function(b,d){var f,h,j=a(d);"flip-list"===i.mode?(f=j.data("metrojs.tile"),window.clearTimeout(f.eventTimeout),window.clearTimeout(f.flCompleteTimeout),window.clearTimeout(f.completeTimeout)):"carousel"===i.mode&&(h=i.listData[b],h.bounce&&g.unbindMsBounce(j,h)),c.removeCss?(j.removeClass("ha"),j.find(i.tileFaceSelector).unbind(".liveTile").removeClass("bounce flip-front flip-back ha slide slide-front slide-back").css(e)):j.find(i.tileFaceSelector).unbind(".liveTile"),j.removeData("metrojs.tile")}).unbind(".liveTile"),null!=i.faces.$front&&c.removeCss&&i.faces.$front.removeClass("flip-front flip-back ha slide slide-front slide-back").css(e),null!=i.faces.$back&&c.removeCss&&i.faces.$back.removeClass("flip-front flip-back ha slide slide-front slide-back").css(e),i.bounce&&g.unbindMsBounce(f,i),i.playOnHover&&g.unbindMsPlayOnHover(f,i),i.pauseOnhover&&g.unbindMsPauseOnHover(f,i),f.removeClass("ha"),f.removeData("LiveTile"),f.removeData("metrojs.tile"),i=null)})}},g={dataAtr:function(a,b,c){return"undefined"!=typeof a.attr("data-"+b)?a.attr("data-"+b):c},dataMethod:function(a,b,c){return"undefined"!=typeof a.data(b)?a.data(b):c},getDataOrDefault:null,initTileData:function(c,d){var e,f,h,i,j=0==d.ignoreDataAttributes,k=null;null==this.getDataOrDefault&&(this.getDataOrDefault=b.capabilities.isOldJQuery?this.dataAtr:this.dataMethod),k=j?{speed:this.getDataOrDefault(c,"speed",d.speed),delay:this.getDataOrDefault(c,"delay",d.delay),stops:this.getDataOrDefault(c,"stops",d.stops),stack:this.getDataOrDefault(c,"stack",d.stack),mode:this.getDataOrDefault(c,"mode",d.mode),direction:this.getDataOrDefault(c,"direction",d.direction),useHardwareAccel:this.getDataOrDefault(c,"ha",d.useHardwareAccel),repeatCount:this.getDataOrDefault(c,"repeat",d.repeatCount),swap:this.getDataOrDefault(c,"swap",d.swap),appendBack:this.getDataOrDefault(c,"appendback",d.appendBack),currentIndex:this.getDataOrDefault(c,"start-index",d.currentIndex),animationDirection:this.getDataOrDefault(c,"ani-direction",d.animationDirection),startNow:this.getDataOrDefault(c,"start-now",d.startNow),tileSelector:this.getDataOrDefault(c,"tile-selector",d.tileSelector),tileFaceSelector:this.getDataOrDefault(c,"face-selector",d.tileFaceSelector),bounce:this.getDataOrDefault(c,"bounce",d.bounce),bounceDirections:this.getDataOrDefault(c,"bounce-dir",d.bounceDirections),bounceFollowsMove:this.getDataOrDefault(c,"bounce-follows",d.bounceFollowsMove),click:this.getDataOrDefault(c,"click",d.click),link:this.getDataOrDefault(c,"link",d.link),newWindow:this.getDataOrDefault(c,"new-window",d.newWindow),alwaysTrigger:this.getDataOrDefault(c,"always-trigger",d.alwaysTrigger),flipListOnHover:this.getDataOrDefault(c,"flip-onhover",d.flipListOnHover),pauseOnHover:this.getDataOrDefault(c,"pause-onhover",d.pauseOnHover),playOnHover:this.getDataOrDefault(c,"play-onhover",d.playOnHover),onHoverDelay:this.getDataOrDefault(c,"hover-delay",d.onHoverDelay),onHoverOutDelay:this.getDataOrDefault(c,"hoverout-delay",d.onHoverOutDelay),noHAflipOpacity:this.getDataOrDefault(c,"flip-opacity",d.noHAflipOpacity),useTranslate:this.getDataOrDefault(c,"use-translate",d.useTranslate),runEvents:!1,isReversed:!1,loopCount:0,contentModules:[],listData:[],height:c.height(),width:c.width(),tempValues:{}}:a.extend(!0,{runEvents:!1,isReversed:!1,loopCount:0,contentModules:[],listData:[],height:c.height(),width:c.width(),tempValues:{}},d),k.useTranslate=k.useTranslate&&k.useHardwareAccel&&b.capabilities.canTransform&&b.capabilities.canTransition,k.margin="vertical"===k.direction?k.height/2:k.width/2,k.stops="object"==typeof d.stops&&d.stops instanceof Array?d.stops:(""+k.stops).split(","),1===k.stops.length&&k.stops.push("0px");var l=k.swap instanceof Array?k.swap:k.swap.replace(" ","").split(","),m=j?this.getDataOrDefault(c,"swap-front",d.swapFront):d.swapFront,n=j?this.getDataOrDefault(c,"swap-back",d.swapBack):d.swapBack;for(k.swapFront=m instanceof Array?m:"-"===m?l:m.replace(" ","").split(","),k.swapBack=n instanceof Array?n:"-"===n?l:n.replace(" ","").split(","),e=0;e<k.swapFront.length;e++)k.swapFront[e].length>0&&-1===a.inArray(k.swapFront[e],l)&&l.push(k.swapFront[e]);for(e=0;e<k.swapBack.length;e++)k.swapBack[e].length>0&&-1===a.inArray(k.swapBack[e],l)&&l.push(k.swapBack[e]);for(k.swap=l,e=0;e<l.length;e++)l[e].length>0&&(f=a.fn.liveTile.contentModules.hasContentModule(l[e]),f>-1&&k.contentModules.push(a.fn.liveTile.contentModules.modules[f]));for(k.initDelay=j?this.getDataOrDefault(c,"initdelay",d.initDelay):d.initDelay,k.delay<-1?k.delay=d.triggerDelay(1):k.delay<0&&(k.delay=3500+4501*Math.random()),k.initDelay<0&&(k.initDelay=k.delay),h={},e=0;e<k.contentModules.length;e++)a.extend(h,k.contentModules[e].data);for(a.extend(h,d,k),"flip-list"===h.mode?(i=c.find(h.tileSelector).not(".tile-title"),i.each(function(b,c){var d=a(c),e={direction:j?g.getDataOrDefault(d,"direction",h.direction):h.direction,newWindow:j?g.getDataOrDefault(d,"new-window",!1):!1,link:j?g.getDataOrDefault(d,"link",""):"",faces:{$front:null,$back:null},height:d.height(),width:d.width(),isReversed:!1};e.margin="vertical"===e.direction?e.height/2:e.width/2,h.listData.push(e)})):"carousel"===h.mode&&(h.stack=!0,i=c.find(h.tileSelector).not(".tile-title"),i.each(function(b,c){var d=a(c),e={bounce:j?g.getDataOrDefault(d,"bounce",!1):!1,bounceDirections:j?g.getDataOrDefault(d,"bounce-dir","all"):"all",link:j?g.getDataOrDefault(d,"link",""):"",newWindow:j?g.getDataOrDefault(d,"new-window",!1):!1,animationDirection:j?g.getDataOrDefault(d,"ani-direction",""):"",direction:j?g.getDataOrDefault(d,"direction",""):""};h.listData.push(e)})),e=0;e<k.contentModules.length;e++)"function"==typeof h.contentModules[e].initData&&h.contentModules[e].initData(h,c);return k=null,h},prepTile:function(c,d){var f,i,j,k,l,m,n,o;switch(c.addClass(d.mode),f={$tileFaces:null,$listTiles:null,$front:null,$back:null},d.mode){case"fade":f.$tileFaces=c.find(d.tileFaceSelector).not(".tile-title"),f.$front=null!=d.faces.$front&&d.faces.$front.length>0?d.faces.$front.addClass("fade-front"):f.$tileFaces.filter(":first").addClass("fade-front"),f.$back=null!=d.faces.$back&&d.faces.$back.length>0?d.faces.$back.addClass("fade-back"):f.$tileFaces.length>1?f.$tileFaces.filter(":last").addClass("fade-back"):d.appendBack?a('<div class="fade-back"></div>').appendTo(c):a("<div></div>");break;case"slide":f.$tileFaces=c.find(d.tileFaceSelector).not(".tile-title"),f.$front=null!=d.faces.$front&&d.faces.$front.length>0?d.faces.$front.addClass("slide-front"):f.$tileFaces.filter(":first").addClass("slide-front"),f.$back=null!=d.faces.$back&&d.faces.$back.length>0?d.faces.$back.addClass("slide-back"):f.$tileFaces.length>1?f.$tileFaces.filter(":last").addClass("slide-back"):d.appendBack?a('<div class="slide-back"></div>').appendTo(c):a("<div></div>"),1==d.stack&&("vertical"===d.direction?(m="top",n="translate(0%, -100%) translateZ(0)"):(m="left",n="translate(-100%, 0%) translateZ(0)"),k={},d.useTranslate?h.appendStyleProperties(k,["transform"],[n]):k[m]="-100%",f.$back.css(k)),c.data("metrojs.tile",{animating:!1}),b.capabilities.canTransition&&d.useHardwareAccel&&(c.addClass("ha"),f.$front.addClass("ha"),f.$back.addClass("ha"));break;case"carousel":f.$listTiles=c.find(d.tileSelector).not(".tile-title"),o=f.$listTiles.length,c.data("metrojs.tile",{animating:!1}),d.currentIndex=Math.min(d.currentIndex,o-1),f.$listTiles.each(function(c,e){var f=a(e).addClass("slide"),i=d.listData[c],j="string"==typeof i.animationDirection&&i.animationDirection.length>0?i.animationDirection:d.animationDirection,k="string"==typeof i.direction&&i.direction.length>0?i.direction:d.direction;c==d.currentIndex?f.addClass("active"):"forward"===j?"vertical"===k?(l=d.useTranslate?h.appendStyleProperties({},["transform"],["translate(0%, 100%) translateZ(0)"]):{left:"0%",top:"100%"},f.css(l)):(l=d.useTranslate?h.appendStyleProperties({},["transform"],["translate(100%, 0%) translateZ(0)"]):{left:"100%",top:"0%"},f.css(l)):"backward"===j&&("vertical"===k?(l=d.useTranslate?h.appendStyleProperties({},["transform"],["translate(0%, -100%) translateZ(0)"]):{left:"0%",top:"-100%"},f.css(l)):(l=d.useTranslate?h.appendStyleProperties({},["transform"],["translate(-100%, 0%) translateZ(0)"]):{left:"-100%",top:"0%"},f.css(l))),g.bindLink(f,i),d.useHardwareAccel&&b.capabilities.canTransition&&g.bindBounce(f,i),f=null,i=null}),b.capabilities.canFlip3d&&d.useHardwareAccel&&(c.addClass("ha"),f.$listTiles.addClass("ha"));break;case"flip-list":f.$listTiles=c.find(d.tileSelector).not(".tile-title"),f.$listTiles.each(function(c,f){var l,m,n,o,p=a(f).addClass("tile-"+(c+1)),q=p.find(d.tileFaceSelector).filter(":first").addClass("flip-front").css({margin:"0px"});1===p.find(d.tileFaceSelector).length&&1==d.appendBack&&p.append("<div></div>"),l=p.find(d.tileFaceSelector).filter(":last").addClass("flip-back").css({margin:"0px"}),d.listData[c].faces.$front=q,d.listData[c].faces.$back=l,p.data("metrojs.tile",{animating:!1,count:1,completeTimeout:null,flCompleteTimeout:null,index:c}),m=p.data("metrojs.tile"),b.capabilities.canFlip3d&&d.useHardwareAccel?(p.addClass("ha"),q.addClass("ha"),l.addClass("ha"),i="vertical"===d.listData[c].direction?"rotateX(180deg)":"rotateY(180deg)",k=h.appendStyleProperties({},["transform"],[i]),l.css(k)):(j="vertical"===d.listData[c].direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},k="vertical"===d.listData[c].direction?{height:"0px",width:"100%",marginTop:d.listData[c].margin+"px",opacity:d.noHAflipOpacity}:{height:"100%",width:"0px",marginLeft:d.listData[c].margin+"px",opacity:d.noHAflipOpacity},q.css(j),l.css(k)),n=function(){m.count++,m.count>=e&&(m.count=1)},d.flipListOnHover&&(o=d.flipListOnHoverEvent+".liveTile",q.bind(o,function(){g.flip(p,m.count,d,n)}),l.bind(o,function(){g.flip(p,m.count,d,n)})),d.listData[c].link.length>0&&p.css({cursor:"pointer"}).bind("click.liveTile",function(){d.listData[c].newWindow?window.open(d.listData[c].link):window.location=d.listData[c].link})});break;case"flip":f.$tileFaces=c.find(d.tileFaceSelector).not(".tile-title"),f.$front=null!=d.faces.$front&&d.faces.$front.length>0?d.faces.$front.addClass("flip-front"):f.$tileFaces.filter(":first").addClass("flip-front"),f.$back=null!=d.faces.$back&&d.faces.$back.length>0?d.faces.$back.addClass("flip-back"):f.$tileFaces.length>1?f.$tileFaces.filter(":last").addClass("flip-back"):d.appendBack?a('<div class="flip-back"></div>').appendTo(c):a("<div></div>"),c.data("metrojs.tile",{animating:!1}),b.capabilities.canFlip3d&&d.useHardwareAccel?(c.addClass("ha"),f.$front.addClass("ha"),f.$back.addClass("ha"),i="vertical"===d.direction?"rotateX(180deg)":"rotateY(180deg)",k=h.appendStyleProperties({},["transform"],[i]),f.$back.css(k)):(j="vertical"===d.direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},k="vertical"===d.direction?{height:"0%",width:"100%",marginTop:d.margin+"px",opacity:"0"}:{height:"100%",width:"0%",marginLeft:d.margin+"px",opacity:"0"},f.$front.css(j),f.$back.css(k))}return f},bindPauseOnHover:function(c){!function(){var d=c.data("LiveTile"),e=!1,f=!1,g="both"==d.pauseOnHoverEvent||"mouseover"==d.pauseOnHoverEvent||"mouseenter"==d.pauseOnHoverEvent,h="both"==d.pauseOnHoverEvent||"mouseout"==d.pauseOnHoverEvent||"mouseleave"==d.pauseOnHoverEvent;d.pOnHoverMethods={pause:function(){d.timer.pause(),"flip-list"===d.mode&&d.faces.$listTiles.each(function(b,c){window.clearTimeout(a(c).data("metrojs.tile").completeTimeout)})},over:function(){e||f||d.runEvents&&(f=!0,d.eventTimeout=window.setTimeout(function(){f=!1,h&&(e=!0),d.pOnHoverMethods.pause()},d.onHoverDelay))},out:function(){if(f)return window.clearTimeout(d.eventTimeout),void(f=!1);if(g){if(!e&&!f)return;d.runEvents&&d.timer.start(d.hasRun?d.delay:d.initDelay)}else d.pOnHoverMethods.pause();e=!1}},b.capabilities.canTouch?window.navigator.msPointerEnabled?(g&&c[0].addEventListener("MSPointerOver",d.pOnHoverMethods.over,!1),h&&c[0].addEventListener("MSPointerOut",d.pOnHoverMethods.out,!1)):(g&&c.bind("touchstart.liveTile",d.pOnHoverMethods.over),h&&c.bind("touchend.liveTile",d.pOnHoverMethods.out)):(g&&c.bind("mouseover.liveTile",d.pOnHoverMethods.over),h&&c.bind("mouseout.liveTile",d.pOnHoverMethods.out))}()},unbindMsPauseOnHover:function(a,b){"undefined"!=typeof b.pOnHoverMethods&&window.navigator.msPointerEnabled&&(a[0].removeEventListener("MSPointerOver",b.pOnHoverMethods.over,!1),a[0].removeEventListener("MSPointerOut",b.pOnHoverMethods.out,!1))},bindPlayOnHover:function(a,c){!function(){var d=!1,e=!1,g="both"==c.playOnHoverEvent||"mouseover"==c.playOnHoverEvent||"mouseenter"==c.playOnHoverEvent,h="both"==c.playOnHoverEvent||"mouseout"==c.playOnHoverEvent||"mouseleave"==c.playOnHoverEvent;c.onHoverMethods={over:function(){if(!(d||e||c.bounce&&"no"!=c.bounceMethods.down)){var b="flip"==c.mode||(c.startNow?!c.isReversed:c.isReversed);window.clearTimeout(c.eventTimeout),(c.runEvents&&b||!c.hasRun)&&(e=!0,c.eventTimeout=window.setTimeout(function(){e=!1,h&&(d=!0),f.play.apply(a[0],[0])},c.onHoverDelay))}},out:function(){return e?(window.clearTimeout(c.eventTimeout),void(e=!1)):void((!g||d||e)&&(window.clearTimeout(c.eventTimeout),c.eventTimeout=window.setTimeout(function(){var b="flip"==c.mode||(c.startNow?c.isReversed:!c.isReversed);c.runEvents&&b&&f.play.apply(a[0],[0]),d=!1},c.speed+c.onHoverOutDelay)))}},b.capabilities.canTouch?window.navigator.msPointerEnabled?(g&&a[0].addEventListener("MSPointerDown",c.onHoverMethods.over,!1),h&&a.bind("mouseleave.liveTile",c.onHoverMethods.out)):(g&&a.bind("touchstart.liveTile",c.onHoverMethods.over),h&&a.bind("touchend.liveTile",c.onHoverMethods.out)):(g&&a.bind("mouseenter.liveTile",c.onHoverMethods.over),h&&a.bind("mouseleave.liveTile",c.onHoverMethods.out))}()},unbindMsPlayOnHover:function(a,b){"undefined"!=typeof b.onHoverMethods&&window.navigator.msPointerEnabled&&a[0].removeEventListener("MSPointerDown",b.onHoverMethods.over,!1)},bindBounce:function(c,d){d.bounce&&(c.addClass("bounce"),c.addClass("noselect"),function(){d.bounceMethods={down:"no",threshold:30,zeroPos:{x:0,y:0},eventPos:{x:0,y:0},inTilePos:{x:0,y:0},pointPos:{x:0,y:0},regions:{c:[0,0],tl:[-1,-1],tr:[1,-1],bl:[-1,1],br:[1,1],t:[null,-1],r:[1,null],b:[null,1],l:[-1,null]},targets:{all:["c","t","r","b","l","tl","tr","bl","br"],edges:["c","t","r","b","l"],corners:["c","tl","tr","bl","br"]},hitTest:function(c,e,f,g){var h,i,j=d.bounceMethods.regions,k=d.bounceMethods.targets[f],l=0,m=null,n=null,o={hit:[0,0],name:"c"};if(b.capabilities.isOldAndroid||!b.capabilities.canTransition)return o;"undefined"==typeof k&&("string"==typeof f&&(k=f.split(",")),a.isArray(k)&&-1==a.inArray("c")&&(g=0,o=null));for(var p=c.width(),q=c.height(),r=[p*g,q*g],s=e.x-.5*p,t=e.y-.5*q,u=[s>0?Math.abs(s)<=r[0]?0:1:Math.abs(s)<=r[0]?0:-1,t>0?Math.abs(t)<=r[1]?0:1:Math.abs(t)<=r[1]?0:-1];l<k.length;l++){if(null!=m)return m;if(h=k[l],i=j[h],"*"==h)return h=k[l+1],{region:j[h],name:h};u[0]==i[0]&&u[1]==i[1]?m={hit:i,name:h}:(u[0]==i[0]||null==i[0])&&(u[1]==i[1]||null==i[1])&&(n={hit:i,name:h})}return null!=m?m:null!=n?n:o},bounceDown:function(b){var e,f,g;if("A"!=b.target.tagName||a(b).is(".bounce")){{var i=b.originalEvent&&b.originalEvent.touches?b.originalEvent.touches[0]:b,j=c.offset();window.pageXOffset,window.pageYOffset}d.bounceMethods.pointPos={x:i.pageX,y:i.pageY},d.bounceMethods.inTilePos={x:i.pageX-j.left,y:i.pageY-j.top},d.$tileParent||(d.$tileParent=c.parent()),e=d.$tileParent.offset(),d.bounceMethods.eventPos={x:j.left-e.left+c.width()/2,y:j.top-e.top+c.height()/2},f=d.bounceMethods.hitTest(c,d.bounceMethods.inTilePos,d.bounceDirections,.25),null==f?d.bounceMethods.down="no":(window.navigator.msPointerEnabled?(document.addEventListener("MSPointerUp",d.bounceMethods.bounceUp,!1),c[0].addEventListener("MSPointerUp",d.bounceMethods.bounceUp,!1),document.addEventListener("MSPointerCancel",d.bounceMethods.bounceUp,!1),d.bounceFollowsMove&&c[0].addEventListener("MSPointerMove",d.bounceMethods.bounceMove,!1)):(a(document).bind("mouseup.liveTile, touchend.liveTile, touchcancel.liveTile, dragstart.liveTile",d.bounceMethods.bounceUp),d.bounceFollowsMove&&(c.bind("touchmove.liveTile",d.bounceMethods.bounceMove),c.bind("mousemove.liveTile",d.bounceMethods.bounceMove))),g="bounce-"+f.name,c.addClass(g),d.bounceMethods.down=g,d.bounceMethods.downPcss=h.appendStyleProperties({},["perspective-origin"],[d.bounceMethods.eventPos.x+"px "+d.bounceMethods.eventPos.y+"px"]),d.$tileParent.css(d.bounceMethods.downPcss))}},bounceUp:function(){"no"!=d.bounceMethods.down&&(d.bounceMethods.unBounce(),window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerUp",d.bounceMethods.bounceUp,!1),c[0].removeEventListener("MSPointerUp",d.bounceMethods.bounceUp,!1),document.removeEventListener("MSPointerCancel",d.bounceMethods.bounceUp,!1),d.bounceFollowsMove&&c[0].removeEventListener("MSPointerMove",d.bounceMethods.bounceMove,!1)):a(document).unbind("mouseup.liveTile, touchend.liveTile, touchcancel.liveTile, dragstart.liveTile",d.bounceMethods.bounceUp),d.bounceFollowsMove&&(c.unbind("touchmove.liveTile",d.bounceMethods.bounceMove),c.unbind("mousemove.liveTile",d.bounceMethods.bounceMove)))},bounceMove:function(a){var b;if("no"!=d.bounceMethods.down){var e=a.originalEvent&&a.originalEvent.touches?a.originalEvent.touches[0]:a,f=Math.abs(e.pageX-d.bounceMethods.pointPos.x),g=Math.abs(e.pageY-d.bounceMethods.pointPos.y);(f>d.bounceMethods.threshold||g>d.bounceMethods.threshold)&&(b=d.bounceMethods.down,d.bounceMethods.bounceDown(a),b!=d.bounceMethods.down&&c.removeClass(b))}},unBounce:function(){c.removeClass(d.bounceMethods.down),"object"==typeof d.bounceMethods.downPcss&&(d.bounceMethods.downPcss=h.appendStyleProperties({},["perspective-origin","perspective-origin-x","perspective-origin-y"],["","",""]),window.setTimeout(function(){d.$tileParent.css(d.bounceMethods.downPcss)},200)),d.bounceMethods.down="no",d.bounceMethods.inTilePos=d.bounceMethods.zeroPos,d.bounceMethods.eventPos=d.bounceMethods.zeroPos}},window.navigator.msPointerEnabled?c[0].addEventListener("MSPointerDown",d.bounceMethods.bounceDown,!1):b.capabilities.canTouch?c.bind("touchstart.liveTile",d.bounceMethods.bounceDown):c.bind("mousedown.liveTile",d.bounceMethods.bounceDown)}())},unbindMsBounce:function(a,b){b.bounce&&window.navigator.msPointerEnabled&&(a[0].removeEventListener("MSPointerDown",b.bounceMethods.bounceDown,!1),a[0].removeEventListener("MSPointerCancel",b.bounceMethods.bounceUp,!1),a[0].removeEventListener("MSPointerOut",b.bounceMethods.bounceUp,!1))},bindLink:function(b,c){c.link.length>0&&b.css({cursor:"pointer"}).bind("click.liveTile",function(b){("A"!=b.target.tagName||a(b).is(".live-tile,.slide,.flip"))&&(c.newWindow?window.open(c.link):window.location=c.link)})},runContenModules:function(a,b,c,d){for(var e,f=0;f<a.contentModules.length;f++)e=a.contentModules[f],"function"==typeof e.action&&e.action(a,b,c,d)},fade:function(b,c,e){var f,h,i,j="object"==typeof e?e:b.data("LiveTile"),k=function(){(j.timer.repeatCount>0||-1==j.timer.repeatCount)&&j.timer.count!=j.timer.repeatCount&&j.timer.start(j.delay)};if("undefined"==typeof j)return void d(a.fn.liveTile.defaults.rebindMessage);if(!j.faces.$front.is(":animated")){if(j.timer.pause(),f=j.loopCount+1,j.isReversed=f%2==0,h=j.animationStarting.call(b[0],j,j.faces.$front,j.faces.$back),"undefined"!=typeof h&&0==h)return void k();j.loopCount=f,i=function(){k(),g.runContenModules(j,j.faces.$front,j.faces.$back),j.animationComplete.call(b[0],j,j.faces.$front,j.faces.$back)},j.isReversed?j.faces.$front.fadeIn(j.speed,j.noHaTransFunc,i):j.faces.$front.fadeOut(j.speed,j.noHaTransFunc,i)}},slide:function(c,e,f,i,j){var k,l,m,n,o,p,q,r,s,t,u="object"==typeof f?f:c.data("LiveTile"),v=c.data("metrojs.tile");if("undefined"==typeof u)return void d(a.fn.liveTile.defaults.rebindMessage);if(1==v.animating||c.is(":animated"))return u=null,void(v=null);if(k=function(){(u.timer.repeatCount>0||-1==u.timer.repeatCount)&&u.timer.count!=u.timer.repeatCount&&u.timer.start(u.delay)},"carousel"!==u.mode){if(u.isReversed=u.currentIndex%2!=0,u.timer.pause(),l=u.animationStarting.call(c[0],u,u.faces.$front,u.faces.$back),"undefined"!=typeof l&&0==l)return void k();u.loopCount=u.loopCount+1}else u.isReversed=!0;m="string"==typeof u.tempValues.direction&&u.tempValues.direction.length>0?u.tempValues.direction:u.direction,u.tempValues.direction=null;var w={},x={},y="undefined"==typeof i?u.currentIndex:i,z=a.trim(u.stops[Math.min(y,u.stops.length-1)]),A=z.indexOf("px"),B=0,C=0,D="vertical"===m?u.height:u.width,E="vertical"===m?"top":"left",F=1==u.stack,G=function(){"undefined"==typeof j?(u.currentIndex=u.currentIndex+1,u.currentIndex>u.stops.length-1&&(u.currentIndex=0)):j(),"carousel"!=u.mode&&k(),g.runContenModules(u,u.faces.$front,u.faces.$back,u.currentIndex),u.animationComplete.call(c[0],u,u.faces.$front,u.faces.$back),u=null,v=null};if(A>0?(C=parseInt(z.substring(0,A),10),B=C-D+"px"):(C=parseInt(z.replace("%",""),10),B=C-100+"%"),b.capabilities.canTransition&&u.useHardwareAccel){if("undefined"!=typeof v.animating&&1==v.animating)return;v.animating=!0,n=["transition-property","transition-duration","transition-timing-function"],o=[u.useTranslate?"transform":E,u.speed+"ms",u.haTransFunc],o[h.browserPrefix+"transition-property"]=h.browserPrefix+"transform",w=h.appendStyleProperties(w,n,o),x=h.appendStyleProperties(x,n,o),p="vertical"===m,q=p?"top":"left",u.useTranslate?(r=p?"translate(0%, "+z+")":"translate("+z+", 0%)",w=h.appendStyleProperties(w,["transform"],[r+"translateZ(0)"]),F&&(r=p?"translate(0%, "+B+")":"translate("+B+", 0%)",x=h.appendStyleProperties(x,["transform"],[r+"translateZ(0)"]))):(w[q]=z,F&&(x[q]=B)),u.faces.$front.css(w),F&&u.faces.$back.css(x),window.clearTimeout(u.completeTimeout),u.completeTimeout=window.setTimeout(function(){v.animating=!1,G()},u.speed)}else w[E]=z,x[E]=B,v.animating=!0,s=u.faces.$front.stop(),t=u.faces.$back.stop(),s.animate(w,u.speed,u.noHaTransFunc,function(){v.animating=!1,G()}),F&&t.animate(x,u.speed,u.noHaTransFunc,function(){})},carousel:function(c,e){var f,i,j,k,l,m,n,o,p,q=c.data("LiveTile");if("undefined"==typeof q)return void d(a.fn.liveTile.defaults.rebindMessage);if(f=c.data("metrojs.tile"),1==f.animating||q.faces.$listTiles.length<=1)return void(f=null);i=function(){(q.timer.repeatCount>0||-1==q.timer.repeatCount)&&q.timer.count!=q.timer.repeatCount&&q.timer.start(q.delay)},q.timer.pause();var r=q.faces.$listTiles.filter(".active"),s=q.faces.$listTiles.index(r),t=q.currentIndex,u=t!=s?t:s,v=u+1>=q.faces.$listTiles.length?0:u+1,w=q.listData[v];return s==v?(f=null,void(r=null)):(j="string"==typeof q.tempValues.animationDirection&&q.tempValues.animationDirection.length>0?q.tempValues.animationDirection:"string"==typeof w.animationDirection&&w.animationDirection.length>0?w.animationDirection:q.animationDirection,q.tempValues.animationDirection=null,"string"==typeof q.tempValues.direction&&q.tempValues.direction.length>0?k=q.tempValues.direction:"string"==typeof w.direction&&w.direction.length>0?(k=w.direction,q.tempValues.direction=k):k=q.direction,l=q.faces.$listTiles.eq(v),m=q.animationStarting.call(c[0],q,r,l),"undefined"!=typeof m&&0==m?void i():(q.loopCount=q.loopCount+1,n=h.appendStyleProperties({},["transition-duration"],["0s"]),o="vertical"===k,"backward"===j?(q.useTranslate&&b.capabilities.canTransition?(p=o?"translate(0%, -100%)":"translate(-100%, 0%)",n=h.appendStyleProperties(n,["transform"],[p+" translateZ(0)"]),q.stops=["100%"]):(o?(n.top="-100%",n.left="0%"):(n.top="0%",n.left="-100%"),q.stops=["100%"]),q.faces.$front=r,q.faces.$back=l):(q.useTranslate&&b.capabilities.canTransition?(p=o?"translate(0%, 100%)":"translate(100%, 0%)",n=h.appendStyleProperties(n,["transform"],[p+" translateZ(0)"])):o?(n.top="100%",n.left="0%"):(n.top="0%",n.left="100%"),q.faces.$front=l,q.faces.$back=r,q.stops=["0%"]),l.css(n),void window.setTimeout(function(){r.removeClass("active"),l.addClass("active"),g.slide(c,e,q,0,function(){q.currentIndex=v,f=null,r=null,l=null,i()
})},150)))},flip:function(c,e,f,i){var j,k,l,m,n,o=c.data("metrojs.tile");if("undefined"!=typeof o&&1==o.animating)return void(o=null);if(j="object"==typeof f?f:c.data("LiveTile"),"undefined"==typeof j)return void d(a.fn.liveTile.defaults.rebindMessage);var p,q,r,s,t,u,v,w="undefined"==typeof i,x=0,y=function(){(j.timer.repeatCount>0||-1==j.timer.repeatCount)&&j.timer.count!=j.timer.repeatCount&&j.timer.start(j.delay)};if(w){if(j.timer.pause(),k=j.loopCount+1,v=k%2==0,j.isReversed=v,p=j.faces.$front,q=j.faces.$back,l=v?[j,q,p]:[j,p,q],m=j.animationStarting.apply(c[0],l),"undefined"!=typeof m&&0==m)return void y();r=j.direction,height=j.height,width=j.width,margin=j.margin,j.loopCount=k}else v=e%2==0,x=o.index,p=j.listData[x].faces.$front,q=j.listData[x].faces.$back,j.listData[x].isReversed=v,r=j.listData[x].direction,height=j.listData[x].height,width=j.listData[x].width,margin=j.listData[x].margin;if(b.capabilities.canFlip3d&&j.useHardwareAccel){s=v?"360deg":"180deg",t="vertical"===r?"rotateX("+s+")":"rotateY("+s+")",u=h.appendStyleProperties({},["transform","transition"],[t,"all "+j.speed+"ms "+j.haTransFunc+" 0s"]);var z=v?"540deg":"360deg",A="vertical"===r?"rotateX("+z+")":"rotateY("+z+")",B=h.appendStyleProperties({},["transform","transition"],[A,"all "+j.speed+"ms "+j.haTransFunc+" 0s"]);p.css(u),q.css(B),n=function(){o.animating=!1;var a,b;v?(a="vertical"===r?"rotateX(0deg)":"rotateY(0deg)",b=h.appendStyleProperties({},["transform","transition"],[a,"all 0s "+j.haTransFunc+" 0s"]),p.css(b),g.runContenModules(j,p,q,x),w?(y(),j.animationComplete.call(c[0],j,p,q)):i(j,p,q),p=null,q=null,j=null,o=null):(g.runContenModules(j,q,p,x),w?(y(),j.animationComplete.call(c[0],j,q,p)):i(j,q,p))},"flip-list"===j.mode?(window.clearTimeout(j.listData[x].completeTimeout),j.listData[x].completeTimeout=window.setTimeout(n,j.speed)):(window.clearTimeout(j.completeTimeout),j.completeTimeout=window.setTimeout(n,j.speed))}else{var C,D=j.speed/2,E="vertical"===r?{height:"0px",width:"100%",marginTop:margin+"px",opacity:j.noHAflipOpacity}:{height:"100%",width:"0px",marginLeft:margin+"px",opacity:j.noHAflipOpacity},F="vertical"===r?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"};v?(o.animating=!0,q.stop().animate(E,{duration:D}),C=function(){o.animating=!1,p.stop().animate(F,{duration:D,complete:function(){g.runContenModules(j,p,q,x),w?(y(),j.animationComplete.call(c[0],j,p,q)):i(j,p,q),o=null,p=null,q=null}})},"flip-list"===j.mode?(window.clearTimeout(j.listData[o.index].completeTimeout),j.listData[o.index].completeTimeout=window.setTimeout(C,D)):(window.clearTimeout(j.completeTimeout),j.completeTimeout=window.setTimeout(C,D))):(o.animating=!0,p.stop().animate(E,{duration:D}),C=function(){o.animating=!1,q.stop().animate(F,{duration:D,complete:function(){g.runContenModules(j,q,p,x),w?(y(),j.animationComplete.call(c[0],j,q,p)):i(j,q,p),p=null,q=null,j=null,o=null}})},"flip-list"===j.mode?(window.clearTimeout(j.listData[o.index].completeTimeout),j.listData[o.index].completeTimeout=window.setTimeout(C,D)):(window.clearTimeout(j.completeTimeout),j.completeTimeout=window.setTimeout(C,D)))}},flipList:function(b){var c,f=b.data("LiveTile"),h=f.speed,i=!1,j=function(){(f.timer.repeatCount>0||-1==f.timer.repeatCount)&&f.timer.count!=f.timer.repeatCount&&f.timer.start(f.delay)};return"undefined"==typeof f?void d(a.fn.liveTile.defaults.rebindMessage):(f.timer.pause(),c=f.animationStarting.call(b[0],f,null,null),"undefined"!=typeof c&&0==c?void j():(f.loopCount=f.loopCount+1,f.faces.$listTiles.each(function(b,c){var d=a(c),j=d.data("metrojs.tile"),k=f.triggerDelay(b),l=f.speed+Math.max(k,0),m=f.alwaysTrigger;m||(m=351*Math.random()>150?!0:!1),m&&(i=!0,h=Math.max(l+f.speed,h),window.clearTimeout(j.flCompleteTimeout),j.flCompleteTimeout=window.setTimeout(function(){g.flip(d,j.count,f,function(){j.count++,j.count>=e&&(j.count=1),d=null,j=null})},l))}),void(i&&(window.clearTimeout(f.flCompleteTimeout),f.flCompleteTimeout=window.setTimeout(function(){g.runContenModules(f,null,null,-1),f.animationComplete.call(b[0],f,null,null),j()},h+f.speed)))))}},h={stylePrefixes:"Webkit Moz O ms Khtml ".split(" "),domPrefixes:"-webkit- -moz- -o- -ms- -khtml- ".split(" "),browserPrefix:null,appendStyleProperties:function(b,c,d){for(var e=0;e<=c.length-1;e++)b[a.trim(this.browserPrefix+c[e])]=d[e],b[a.trim(c[e])]=d[e];return b},applyStyleValue:function(b,c,d){return b[a.trim(this.browserPrefix+c)]=d,b[c]=d,b},getBrowserPrefix:function(){var a,b;if(null==this.browserPrefix){for(a="",b=0;b<=this.domPrefixes.length-1;b++)"undefined"!=typeof document.body.style[this.domPrefixes[b]+"transform"]&&(a=this.domPrefixes[b]);return this.browserPrefix=a}return this.browserPrefix},shuffleArray:function(a){for(var b=[];a.length;)b.push(a.splice(Math.random()*a.length,1));for(;b.length;)a.push(b.pop());return a}},i={moduleName:"custom",customSwap:{data:{customDoSwapFront:function(){return!1},customDoSwapBack:function(){return!1},customGetContent:function(){return null}},initData:function(b){var c={};c.doSwapFront=a.inArray("custom",b.swapFront)>-1&&b.customDoSwapFront(),c.doSwapBack=a.inArray("custom",b.swapBack)>-1&&b.customDoSwapBack(),b.customSwap="undefined"!=typeof b.customSwap?a.extend(c,b.customSwap):c},action:function(){}},htmlSwap:{moduleName:"html",data:{frontContent:[],frontIsRandom:!0,frontIsInGrid:!1,backContent:[],backIsRandom:!0,backIsInGrid:!1},initData:function(b,c){var d={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,prevBackIndex:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevFrontIndex:-1};b.ignoreDataAttributes?(d.frontIsRandom=b.frontIsRandom,d.frontIsInGrid=b.frontIsInGrid,d.backIsRandom=b.backIsRandom,d.backIsInGrid=b.backIsInGrid):(d.frontIsRandom=g.getDataOrDefault(c,"front-israndom",b.frontIsRandom),d.frontIsInGrid=g.getDataOrDefault(c,"front-isingrid",b.frontIsInGrid),d.backIsRandom=g.getDataOrDefault(c,"back-israndom",b.backIsRandom),d.backIsInGrid=g.getDataOrDefault(c,"back-isingrid",b.backIsInGrid)),d.doSwapFront=a.inArray("html",b.swapFront)>-1&&b.frontContent instanceof Array&&b.frontContent.length>0,d.doSwapBack=a.inArray("html",b.swapBack)>-1&&b.backContent instanceof Array&&b.backContent.length>0,b.htmlSwap="undefined"!=typeof b.htmlSwap?a.extend(d,b.htmlSwap):d,b.htmlSwap.doSwapFront&&(b.htmlSwap.frontBag=this.prepBag(b.htmlSwap.frontBag,b.frontContent,b.htmlSwap.prevFrontIndex),b.htmlSwap.frontStaticRndm=b.htmlSwap.frontBag.pop()),b.htmlSwap.doSwapBack&&(b.htmlSwap.backBag=this.prepBag(b.htmlSwap.backBag,b.backContent,b.htmlSwap.prevBackIndex),b.htmlSwap.backStaticRndm=b.htmlSwap.backBag.pop())},prepBag:function(a,b,c){var d,e;for(a=a||[],d=0,e=0;e<b.length;e++)(e!=c||1===a.length)&&(a[d]=e,d++);return h.shuffleArray(a)},getFrontSwapIndex:function(a){var b=0;return a.htmlSwap.frontIsRandom?(0===a.htmlSwap.frontBag.length&&(a.htmlSwap.frontBag=this.prepBag(a.htmlSwap.frontBag,a.frontContent,a.htmlSwap.prevFrontIndex)),b=a.htmlSwap.frontIsInGrid?a.htmlSwap.frontStaticRndm:a.htmlSwap.frontBag.pop()):b=a.htmlSwap.frontIsInGrid?a.htmlSwap.frontStaticIndex:a.htmlSwap.frontIndex,b},getBackSwapIndex:function(a){var b=0;return a.htmlSwap.backIsRandom?(0===a.htmlSwap.backBag.length&&(a.htmlSwap.backBag=this.prepBag(a.htmlSwap.backBag,a.backContent,a.htmlSwap.prevBackIndex)),b=a.htmlSwap.backIsInGrid?a.htmlSwap.backStaticRndm:a.htmlSwap.backBag.pop()):b=a.htmlSwap.backIsInGrid?a.htmlSwap.backStaticIndex:a.htmlSwap.backIndex,b},action:function(a,b,c,d){if(a.htmlSwap.doSwapFront||a.htmlSwap.doSwapBack){var e="flip-list"===a.mode,f=0,g=e?a.listData[Math.max(d,0)].isReversed:a.isReversed;if(e&&-1==d)return void(g?a.htmlSwap.doSwapBack&&(0===a.htmlSwap.backBag.length&&(a.htmlSwap.backBag=this.prepBag(a.htmlSwap.backBag,a.backContent,a.htmlSwap.backStaticRndm)),a.htmlSwap.backStaticRndm=a.htmlSwap.backBag.pop(),a.htmlSwap.backStaticIndex++,a.htmlSwap.backStaticIndex>=a.backContent.length&&(a.htmlSwap.backStaticIndex=0)):a.htmlSwap.doSwapFront&&(0===a.htmlSwap.frontBag.length&&(a.htmlSwap.frontBag=this.prepBag(a.htmlSwap.frontBag,a.frontContent,a.htmlSwap.frontStaticRndm)),a.htmlSwap.frontStaticRndm=a.htmlSwap.frontBag.pop(),a.htmlSwap.frontStaticIndex++,a.htmlSwap.frontStaticIndex>=a.frontContent.length&&(a.htmlSwap.frontStaticIndex=0)));if(g){if(!a.htmlSwap.doSwapBack)return;f=this.getBackSwapIndex(a),a.htmlSwap.prevBackIndex=f,c.html(a.backContent[a.htmlSwap.backIndex]),a.htmlSwap.backIndex++,a.htmlSwap.backIndex>=a.backContent.length&&(a.htmlSwap.backIndex=0),e||(a.htmlSwap.backStaticIndex++,a.htmlSwap.backStaticIndex>=a.backContent.length&&(a.htmlSwap.backStaticIndex=0))}else{if(!a.htmlSwap.doSwapFront)return;f=this.getFrontSwapIndex(a),a.htmlSwap.prevFrontIndex=f,"slide"===a.mode?a.startNow?c.html(a.frontContent[f]):b.html(a.frontContent[f]):c.html(a.frontContent[f]),a.htmlSwap.frontIndex++,a.htmlSwap.frontIndex>=a.frontContent.length&&(a.htmlSwap.frontIndex=0),e||(a.htmlSwap.frontStaticIndex++,a.htmlSwap.frontStaticIndex>=a.frontContent.length&&(a.htmlSwap.frontStaticIndex=0))}}}},imageSwap:{moduleName:"image",data:{preloadImages:!1,imageCssSelector:">img,>a>img",fadeSwap:!1,frontImages:[],frontIsRandom:!0,frontIsBackgroundImage:!1,frontIsInGrid:!1,backImages:null,backIsRandom:!0,backIsBackgroundImage:!1,backIsInGrid:!1},initData:function(b,c){var d={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevBackIndex:-1,prevFrontIndex:-1},e=b.ignoreDataAttributes;e?(d.imageCssSelector=g.getDataOrDefault(c,"image-css",b.imageCssSelector),d.fadeSwap=g.getDataOrDefault(c,"fadeswap",b.fadeSwap),d.frontIsRandom=g.getDataOrDefault(c,"front-israndom",b.frontIsRandom),d.frontIsInGrid=g.getDataOrDefault(c,"front-isingrid",b.frontIsInGrid),d.frontIsBackgroundImage=g.getDataOrDefault(c,"front-isbg",b.frontIsBackgroundImage),d.backIsRandom=g.getDataOrDefault(c,"back-israndom",b.backIsRandom),d.backIsInGrid=g.getDataOrDefault(c,"back-isingrid",b.backIsInGrid),d.backIsBackgroundImage=g.getDataOrDefault(c,"back-isbg",b.backIsBackgroundImage),d.doSwapFront=a.inArray("image",b.swapFront)>-1&&b.frontImages instanceof Array&&b.frontImages.length>0,d.doSwapBack=a.inArray("image",b.swapBack)>-1&&b.backImages instanceof Array&&b.backImages.length>0,d.alwaysSwapFront=g.getDataOrDefault(c,"front-alwaysswap",b.alwaysSwapFront),d.alwaysSwapBack=g.getDataOrDefault(c,"back-alwaysswap",b.alwaysSwapBack)):(d.imageCssSelector=b.imageCssSelector,d.fadeSwap=b.fadeSwap,d.frontIsRandom=b.frontIsRandom,d.frontIsInGrid=b.frontIsInGrid,d.frontIsBackgroundImage=b.frontIsBackgroundImage,d.backIsRandom=b.backIsRandom,d.backIsInGrid=b.backIsInGrid,d.backIsBackgroundImage=b.backIsBackgroundImage,d.doSwapFront=a.inArray("image",b.swapFront)>-1&&b.frontImages instanceof Array&&b.frontImages.length>0,d.doSwapBack=a.inArray("image",b.swapBack)>-1&&b.backImages instanceof Array&&b.backImages.length>0,d.alwaysSwapFront=b.alwaysSwapFront,d.alwaysSwapBack=b.alwaysSwapBack),b.imgSwap="undefined"!=typeof b.imgSwap?a.extend(d,b.imgSwap):d,b.imgSwap.doSwapFront&&(b.imgSwap.frontBag=this.prepBag(b.imgSwap.frontBag,b.frontImages,b.imgSwap.prevFrontIndex),b.imgSwap.frontStaticRndm=b.imgSwap.frontBag.pop(),b.preloadImages&&a(b.frontImages).metrojs.preloadImages(function(){})),b.imgSwap.doSwapBack&&(b.imgSwap.backBag=this.prepBag(b.imgSwap.backBag,b.backImages,b.imgSwap.prevBackIndex),b.imgSwap.backStaticRndm=b.imgSwap.backBag.pop(),b.preloadImages&&a(b.backImages).metrojs.preloadImages(function(){}))},prepBag:function(a,b,c){var d,e;for(a=a||[],d=0,e=0;e<b.length;e++)(e!=c||1===b.length)&&(a[d]=e,d++);return h.shuffleArray(a)},getFrontSwapIndex:function(a){var b=0;return a.imgSwap.frontIsRandom?(0===a.imgSwap.frontBag.length&&(a.imgSwap.frontBag=this.prepBag(a.imgSwap.frontBag,a.frontImages,a.imgSwap.prevFrontIndex)),b=a.imgSwap.frontIsInGrid?a.imgSwap.frontStaticRndm:a.imgSwap.frontBag.pop()):b=a.imgSwap.frontIsInGrid?a.imgSwap.frontStaticIndex:a.imgSwap.frontIndex,b},getBackSwapIndex:function(a){var b=0;return a.imgSwap.backIsRandom?(0===a.imgSwap.backBag.length&&(a.imgSwap.backBag=this.prepBag(a.imgSwap.backBag,a.backImages,a.imgSwap.prevBackIndex)),b=a.imgSwap.backIsInGrid?a.imgSwap.backStaticRndm:a.imgSwap.backBag.pop()):b=a.imgSwap.backIsInGrid?a.imgSwap.backStaticIndex:a.imgSwap.backIndex,b},setImageProperties:function(b,c,d){var e={},f={};"undefined"!=typeof c.src&&(d?e.backgroundImage="url('"+c.src+"')":f.src=c.src),"undefined"!=typeof c.alt&&(f.alt=c.alt),b.css("object"==typeof c.css?a.extend(e,c.css):e),b.attr("object"==typeof c.attr?a.extend(f,c.attr):f)},action:function(a,b,c,d){var e,f,g,h;if(a.imgSwap.doSwapFront||a.imgSwap.doSwapBack){var j="flip-list"===a.mode,k=("slide"==a.mode,0),l=j?a.listData[Math.max(d,0)].isReversed:a.isReversed;if(j&&-1==d)return(a.alwaysSwapFront||!l)&&a.imgSwap.doSwapFront&&(0===a.imgSwap.frontBag.length&&(a.imgSwap.frontBag=this.prepBag(a.imgSwap.frontBag,a.frontImages,a.imgSwap.frontStaticRndm)),a.imgSwap.frontStaticRndm=a.imgSwap.frontBag.pop(),a.imgSwap.frontStaticIndex++,a.imgSwap.frontStaticIndex>=a.frontImages.length&&(a.imgSwap.frontStaticIndex=0)),void((a.alwaysSwapBack||l)&&a.imgSwap.doSwapBack&&(0===a.imgSwap.backBag.length&&(a.imgSwap.backBag=this.prepBag(a.imgSwap.backBag,a.backImages,a.imgSwap.backStaticRndm)),a.imgSwap.backStaticRndm=a.imgSwap.backBag.pop(),a.imgSwap.backStaticIndex++,a.imgSwap.backStaticIndex>=a.backImages.length&&(a.imgSwap.backStaticIndex=0)));if(a.alwaysSwapFront||!l){if(!a.imgSwap.doSwapFront)return;k=this.getFrontSwapIndex(a),a.imgSwap.prevFrontIndex=k,e="slide"===a.mode?b:c,f=e.find(a.imgSwap.imageCssSelector),g="object"==typeof a.frontImages[k]?a.frontImages[k]:{src:a.frontImages[k]},h=function(b){var c=a.imgSwap.frontIsBackgroundImage;"function"==typeof b&&(c?window.setTimeout(b,100):f[0].onload=b),i.imageSwap.setImageProperties(f,g,c)},a.fadeSwap?f.fadeOut(function(){h(function(){f.fadeIn()})}):h(),a.imgSwap.frontIndex++,a.imgSwap.frontIndex>=a.frontImages.length&&(a.imgSwap.frontIndex=0),j||(a.imgSwap.frontStaticIndex++,a.imgSwap.frontStaticIndex>=a.frontImages.length&&(a.imgSwap.frontStaticIndex=0))}if(a.alwaysSwapBack||l){if(!a.imgSwap.doSwapBack)return;k=this.getBackSwapIndex(a),a.imgSwap.prevBackIndex=k,e=c,f=e.find(a.imgSwap.imageCssSelector),g="object"==typeof a.backImages[k]?a.backImages[k]:{src:a.backImages[k]},h=function(){i.imageSwap.setImageProperties(f,g,a.imgSwap.backIsBackgroundImage)},a.fadeSwap?f.fadeOut(function(){h(function(){f.fadeIn()})}):h(),a.imgSwap.backIndex++,a.imgSwap.backIndex>=a.backImages.length&&(a.imgSwap.backIndex=0),j||(a.imgSwap.backStaticIndex++,a.imgSwap.backStaticIndex>=a.backImages.length&&(a.imgSwap.backStaticIndex=0))}}}}};a.fn.metrojs.TileTimer=function(a,b,c){this.timerId=null,this.interval=a,this.action=b,this.count=0,this.repeatCount="undefined"==typeof c?0:c,this.start=function(b){window.clearTimeout(this.timerId);var c=this;this.timerId=window.setTimeout(function(){c.tick.call(c,a)},b)},this.tick=function(a){this.action(this.count+1),this.count++,this.count>=e&&(this.count=0),(this.repeatCount>0||-1==this.repeatCount)&&(this.count!=this.repeatCount?this.start(a):this.stop())},this.stop=function(){this.timerId=window.clearTimeout(this.timerId),this.reset()},this.resume=function(){(this.repeatCount>0||-1==this.repeatCount)&&this.count!=this.repeatCount&&this.start(a)},this.pause=function(){this.timerId=window.clearTimeout(this.timerId)},this.reset=function(){this.count=0},this.restart=function(a){this.stop(),this.start(a)}},jQuery.fn.metrojs.theme={loadDefaultTheme:function(a){var b,c,d;"undefined"==typeof a||null==a?a=jQuery.fn.metrojs.theme.defaults:(b=jQuery.fn.metrojs.theme.defaults,jQuery.extend(b,a),a=b),c="undefined"!=typeof localStorage,d=function(a){return"undefined"!=typeof window.localStorage[a]&&null!=window.localStorage[a]},!c||d("Metro.JS.AccentColor")&&d("Metro.JS.BaseAccentColor")?c?(a.accentColor=window.localStorage["Metro.JS.AccentColor"],a.baseTheme=window.localStorage["Metro.JS.BaseAccentColor"],jQuery(a.accentCssSelector).addClass(a.accentColor).data("accent",a.accentColor),jQuery(a.baseThemeCssSelector).addClass(a.baseTheme),"function"==typeof a.loaded&&a.loaded(a.baseTheme,a.accentColor)):(jQuery(a.accentCssSelector).addClass(a.accentColor).data("accent",a.accentColor),jQuery(a.baseThemeCssSelector).addClass(a.baseTheme),"function"==typeof a.loaded&&a.loaded(a.baseTheme,a.accentColor),"undefined"!=typeof a.preloadAltBaseTheme&&a.preloadAltBaseTheme&&jQuery(["dark"==a.baseTheme?a.metroLightUrl:a.metroDarkUrl]).metrojs.preloadImages(function(){})):(window.localStorage["Metro.JS.AccentColor"]=a.accentColor,window.localStorage["Metro.JS.BaseAccentColor"]=a.baseTheme,jQuery(a.accentCssSelector).addClass(a.accentColor).data("accent",a.accentColor),jQuery(a.baseThemeCssSelector).addClass(a.baseTheme),"function"==typeof a.loaded&&a.loaded(a.baseTheme,a.accentColor),"undefined"!=typeof a.preloadAltBaseTheme&&a.preloadAltBaseTheme&&jQuery(["dark"==a.baseTheme?a.metroLightUrl:a.metroDarkUrl]).metrojs.preloadImages(function(){}))},applyTheme:function(a,b,c){var d,e,f,g;"undefined"==typeof c||null==c?c=jQuery.fn.metrojs.theme.defaults:(d=jQuery.fn.metrojs.theme.defaults,c=jQuery.extend({},d,c)),"undefined"!=typeof a&&null!=a&&("undefined"!=typeof localStorage&&(window.localStorage["Metro.JS.BaseAccentColor"]=a),e=jQuery(c.baseThemeCssSelector),e.length>0&&("dark"==a?e.addClass("dark").removeClass("light"):"light"==a&&e.addClass("light").removeClass("dark"))),"undefined"!=typeof b&&null!=b&&("undefined"!=typeof localStorage&&(window.localStorage["Metro.JS.AccentColor"]=b),f=jQuery(c.accentCssSelector),f.length>0&&(g=!1,f.each(function(){var a,c;jQuery(this).addClass(b),a=jQuery(this).data("accent"),a!=b&&(c=jQuery(this).attr("class").replace(a,""),c=c.replace(/(\s)+/," "),jQuery(this).attr("class",c),jQuery(this).data("accent",b),g=!0)}),g&&"function"==typeof c.accentPicked&&c.accentPicked(b)))},appendAccentColors:function(b){var c,d;"undefined"==typeof b||null==b?b=jQuery.fn.metrojs.theme.defaults:(c=jQuery.fn.metrojs.theme.defaults,b=jQuery.extend({},c,b));var e="",f=b.accentColors,g=b.accentListTemplate;for(d=0;d<f.length;d++)e+=g.replace(/\{0\}/g,f[d]);a(e).appendTo(b.accentListContainer)},appendBaseThemes:function(b){var c,d;"undefined"==typeof b||null==b?b=jQuery.fn.metrojs.theme.defaults:(c=jQuery.fn.metrojs.theme.defaults,b=jQuery.extend({},c,b));var e="",f=b.baseThemes,g=b.baseThemeListTemplate;for(d=0;d<f.length;d++)e+=g.replace(/\{0\}/g,f[d]);a(e).appendTo(b.baseThemeListContainer)},defaults:{baseThemeCssSelector:"body",accentCssSelector:".tiles",accentColor:"blue",baseTheme:"dark",accentColors:["amber","blue","brown","cobalt","crimson","cyan","magenta","lime","indigo","green","emerald","mango","mauve","olive","orange","pink","red","sienna","steel","teal","violet","yellow"],baseThemes:["light","dark"],accentListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",accentListContainer:"ul.theme-options,.theme-options>ul",baseThemeListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",baseThemeListContainer:"ul.base-theme-options,.base-theme-options>ul"}},jQuery.fn.applicationBar=function(b){var c,d="undefined"!=typeof jQuery.fn.metrojs.theme?jQuery.fn.metrojs.theme.defaults:{};if(jQuery.extend(d,jQuery.fn.applicationBar.defaults,b),"undefined"!=typeof jQuery.fn.metrojs.theme){c=jQuery.fn.metrojs.theme,d.shouldApplyTheme&&c.loadDefaultTheme(d);var e=d.accentListContainer.replace(","," a,")+" a",f=function(){var a=jQuery(this).attr("class").replace("accent","").replace(" ","");c.applyTheme(null,a,d),"function"==typeof d.accentPicked&&d.accentPicked(a)},g=d.baseThemeListContainer.replace(","," a,")+" a",h=function(){var a=jQuery(this).attr("class").replace("accent","").replace(" ","");c.applyTheme(a,null,d),"function"==typeof d.themePicked&&d.themePicked(a)};"function"==typeof a.fn.on?(a(this).on("click.appBar",e,f),a(this).on("click.appBar",g,h)):(a(e).live("click.appBar",f),a(g).live("click.appBar",h))}return a(this).each(function(b,c){var e=a(c),f=a.extend({},d);"auto"==f.collapseHeight&&(f.collapseHeight=a(this).outerHeight()),navigator.userAgent.match(/(Android|webOS|iPhone|iPod|BlackBerry|PIE|IEMobile)/i)&&(navigator.userAgent.match(/(IEMobile\/1)/i)||navigator.userAgent.match(/(iPhone OS [56789])/i)||e.css({position:"absolute",bottom:"0px"})),f.slideOpen=function(){e.hasClass("expanded")||f.animateAppBar(!1)},f.slideClosed=function(){e.hasClass("expanded")&&f.animateAppBar(!0)},f.animateAppBar=function(a){var b=a?f.collapseHeight:f.expandHeight;a?e.removeClass("expanded"):e.hasClass("expanded")||e.addClass("expanded"),e.stop().animate({height:b},{duration:f.duration})},e.data("ApplicationBar",f),e.find(d.handleSelector).click(function(){f.animateAppBar(e.hasClass("expanded"))}),1==f.bindKeyboard&&jQuery(document.documentElement).keyup(function(a){38==a.keyCode?a.target&&null==a.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&(e.hasClass("expanded")||f.animateAppBar(!1)):40==a.keyCode&&a.target&&null==a.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&e.hasClass("expanded")&&f.animateAppBar(!0)})})},jQuery.fn.applicationBar.defaults={applyTheme:!0,themePicked:function(){},accentPicked:function(){},loaded:function(){},duration:300,expandHeight:"320px",collapseHeight:"auto",bindKeyboard:!0,handleSelector:"a.etc",metroLightUrl:"images/metroIcons_light.jpg",metroDarkUrl:"images/metroIcons.jpg",preloadAltBaseTheme:!1},a.fn.metrojs.preloadImages=function(b){var c=a(this).toArray(),d=a("<img style='display:none;' />").appendTo("body");a(this).each(function(){var a=this;"object"==typeof this&&(a=this.src),d.attr({src:a}).load(function(){for(var a=0;a<c.length;a++)c[a]==element&&c.splice(a,1);0==c.length&&b()})}),d.remove()},a.fn.metrojs.MetroModernizr=function(b){if("undefined"==typeof b&&(b={useHardwareAccel:!0,useModernizr:"undefined"!=typeof Modernizr}),this.isOldJQuery=/^1\.[0123]/.test(a.fn.jquery),this.isOldAndroid=function(){var b,c;try{if(b=navigator.userAgent,b.indexOf("Android")>=0&&(c=parseFloat(b.slice(b.indexOf("Android")+8)),2.3>c))return!0}catch(d){a.error(d)}return!1}(),this.canTransform=!1,this.canTransition=!1,this.canTransform3d=!1,this.canAnimate=!1,this.canTouch=!1,this.canFlip3d=b.useHardwareAccel,1==b.useHardwareAccel)if(0==b.useModernizr)if("undefined"!=typeof MetroModernizr)this.canTransform=window.MetroModernizr.canTransform,this.canTransition=window.MetroModernizr.canTransition,this.canTransform3d=window.MetroModernizr.canTransform3d,this.canAnimate=window.MetroModernizr.canAnimate,this.canTouch=window.MetroModernizr.canTouch;else{window.MetroModernizr={};var c="metromodernizr",d=document.documentElement,e=document.head||document.getElementsByTagName("head")[0],f=document.createElement(c),g=f.style,h=" -webkit- -moz- -o- -ms- ".split(" "),i="Webkit Moz O ms Khtml".split(" "),j=function(a,b){for(var c in a)if(void 0!==g[a[c]]&&(!b||b(a[c],f)))return!0},k=function(a,b){var c=a.charAt(0).toUpperCase()+a.substr(1),d=(a+" "+i.join(c+" ")+c).split(" ");return!!j(d,b)},l=function(){var a=!!j(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);return a&&"webkitPerspective"in d.style&&(a=m(["@media (",h.join("transform-3d),("),c,")","{#metromodernizr{left:9px;position:absolute;height:3px;}}"].join(""),function(a){return 3===a.offsetHeight&&9===a.offsetLeft})),a},m=function(a,b){var f,g=document.createElement("style"),h=document.createElement("div");return g.textContent=a,e.appendChild(g),h.id=c,d.appendChild(h),f=b(h),g.parentNode.removeChild(g),h.parentNode.removeChild(h),!!f},n=function(){return canTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||"undefined"!=typeof window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0||m(["@media (",h.join("touch-enabled),("),c,")","{#metromodernizr{top:9px;position:absolute}}"].join(""),function(a){return 9===a.offsetTop})};this.canTransform=!!j(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),this.canTransition=k("transitionProperty"),this.canTransform3d=l(),this.canAnimate=k("animationName"),this.canTouch=n(),window.MetroModernizr.canTransform=this.canTransform,window.MetroModernizr.canTransition=this.canTransition,window.MetroModernizr.canTransform3d=this.canTransform3d,window.MetroModernizr.canAnimate=this.canAnimate,window.MetroModernizr.canTouch=this.canTouch,d=null,e=null,f=null,g=null}else this.canTransform=a("html").hasClass("csstransforms"),this.canTransition=a("html").hasClass("csstransitions"),this.canTransform3d=a("html").hasClass("csstransforms3d"),this.canAnimate=a("html").hasClass("cssanimations"),this.canTouch=a("html").hasClass("touch")||"undefined"!=typeof window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0;this.canFlip3d=this.canFlip3d&&this.canAnimate&&this.canTransform&&this.canTransform3d}}(jQuery),$(document).foundation({offcanvas:{open_method:"move",close_on_click:!1}});var $tiles=$(".flippy").liveTile({playOnHover:!0,repeatCount:0,delay:1,initDelay:0,startNow:!1,animationComplete:function(a){$(this).liveTile("play"),a.animationComplete=function(){}}}).each(function(a,b){var c=1e3*a;$(b).liveTile("play",c)});$(function(){function a(){$(window).width()>767?(b=35,c=b+140,navConfig("#navMain",b,c,d)):(b=100,c=b,navConfig(".donate-mobile",b,c,d))}var b,c,d=900;a(),$(window).resize(function(){a()})}),$(function(){$("#accessibility-mode").click(function(a){a.preventDefault(),$("body.accessibility-mode").length?$("body").removeClass("accessibility-mode"):$("body").addClass("accessibility-mode"),$(this).blur()}),$("#navMain li").focus(function(a){$(this).hasClass("dropdown-toggle")&&(a.preventDefault(),$(".dropdown").removeClass("open"),$(this).parent(".dropdown").addClass("open"))}).blur(function(){}),$('form[action*="//my.barackobama.com"],form[action*="//donate.barackobama.com"]').each(function(){function a(a){return a.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"-").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var b=$(this).attr("action");b+=b.search("[?]")>0?"&":"?";var c=a(window.location.host),d=a(window.location.pathname);""!==d&&(c=c+"_"+d),$(this).attr("action",b+"subsource=monroe_"+c)})}),function(){var a=angular.module("portfolio",["ngRoute"]);a.config(["$routeProvider",function(a){a.when("/",{templateUrl:"themes/homeOtw/angularPartials/home.html",controller:"HomeController"}).when("/portfolio/",{templateUrl:"themes/homeOtw/angularPartials/portfolioCover.html",controller:"PortfolioController"}).when("/portfolio/project",{templateUrl:"themes/homeOtw/angularPartials/portfolio.html",controller:"PortfolioController"}).when("/about",{templateUrl:"themes/homeOtw/angularPartials/catchall.html",controller:"StalkMeController"}).otherwise({redirectTo:"/#/"})}]),a.controller("PortfolioController",function(a,b){window.MY_SCOPE=a,a.$on("$routeChangeSuccess",function(){}),a.project,a.getProject=function(c){b.get("http://localhost:8888/homeotw/portfolio/getProject/"+c).success(function(b,c){a.project=b,console.log("much success"),console.log(c),console.log(b),$(document).foundation("equalizer","reflow")}).error(function(a,b){console.log("error"),console.log(b),console.log(a)})},a.getSkill=function(c){b.get("http://localhost:8888/homeotw/portfolio/getSkill/"+c).success(function(b,c){a.project=b,console.log("much success"),console.log(c)}).error(function(a,b){console.log("error"),console.log(b),console.log(a)})};var c=function(){$(document).foundation("equalizer","reflow")};c()}),a.controller("HomeController",function(a){window.MY_SCOPE=a}),a.controller("StalkMeController",function(a,b){window.MY_SCOPE=a,a.getHappenings=function(){b.get("http://localhost:8888/homeotw/homepage/webActivityFeed").success(function(){}).error(function(){})},a.getProject=function(c){b.get("http://localhost:8888/homeotw/portfolio/getProject/"+c).success(function(b,c){a.project=b,console.log("much success"),console.log(c),console.log(b),$(document).foundation("equalizer","reflow")}).error(function(a,b){console.log("error"),console.log(b),console.log(a)})},a.getSkill=function(c){b.get("http://localhost:8888/homeotw/portfolio/getSkill/"+c).success(function(b,c){a.project=b,console.log("much success"),console.log(c)}).error(function(a,b){console.log("error"),console.log(b),console.log(a)})};var c=function(){$(document).foundation("equalizer","reflow")};c()})}();